-------------------------------
-- TABLAS CON CAMPO TIPO BFILE 
-------------------------------
-- 1. DBMS_LOB
--    Paquete con funcionalidades de gestion de datos tipo LOB
DESC DBMS_LOB

-- 2. Creando tabla con campo BFILE
CREATE TABLE MASCOTAS
(
CODIGO NUMBER,
NOMBRE VARCHAR(100),
FOTO BFILE);


-- 3. Consulto tabla
SELECT * FROM MASCOTAS;

-- 4. Estructura de la tabla
DESC MASCOTAS;

-- 5. Creación de Directorio
CREATE OR REPLACE DIRECTORY FICHEROS AS 'C:\IMAGENES';

SELECT * FROM DBA_DIRECTORIES;
 
-- 6. Bloque de Inserción con imagen ( FICHEROS => DIRECTORY )
DECLARE
  FOTO BFILE;
BEGIN
  FOTO:=BFILENAME('FICHEROS','Gatito01.jpg');
  insert into MASCOTAS VALUES (1,'UÑAS', FOTO);
END;
/
-- 7. Consultando tabla ( Ver campo FOTO)
SELECT * FROM MASCOTAS;

-- 8. Insertando con comando SQL
INSERT INTO MASCOTAS VALUES(2,'BONY', BFILENAME('FICHEROS','Gatito02.jpg'));
SELECT * FROM MASCOTAS;

INSERT INTO MASCOTAS VALUES(3,'RONDY', BFILENAME('FICHEROS','Gatito03.jpg'));
INSERT INTO MASCOTAS VALUES(4,'CLAUDIO', BFILENAME('FICHEROS','Gatito04.jpg'));
SELECT * FROM MASCOTAS;

COMMIT;